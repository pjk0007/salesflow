# Roadmap v2 — Sales Manager 기능 확장 계획

## 개요
email-automation까지 완료된 현 상태에서, 사용성과 운영 효율을 높이기 위한 6개 기능을 우선순위별로 정리한다.

## 현재 완료된 기능 (15개 PDCA 아카이브)
- 고객 관리 (customer-management)
- 알림톡 (발송, 템플릿, 로그, 대시보드, 자동화)
- 이메일 자동화 (설정, 템플릿, 연결, 발송, 로그)
- 사용자/워크스페이스/파티션/필드 관리
- 인증 독립, 조직 동기화, 레이아웃

## 기능 목록 및 우선순위

### P1 — 대시보드 메인 페이지 `dashboard-home`
**현재 상태**: index.tsx는 레코드 목록만 표시. 홈 대시보드 없음.
**목표**: 로그인 직후 전체 현황을 한눈에 파악할 수 있는 홈 대시보드
**주요 요소**:
- 고객 수 (파티션별 레코드 수 요약)
- 알림톡 발송 현황 (최근 7일 성공/실패)
- 이메일 발송 현황 (최근 7일 성공/실패)
- 최근 활동 로그
- 빠른 액션 (레코드 추가, 발송 바로가기)
**의존성**: 없음 (기존 API 활용)
**예상 규모**: API 1~2개 + 페이지 1개 + 컴포넌트 3~5개

---

### P2 — 레코드 상세 수동 발송 UI `record-manual-send`
**현재 상태**: 알림톡은 RecordToolbar에서 선택 레코드 대상 일괄 발송만 가능. 이메일은 페이지 분리.
**목표**: 레코드 상세 보기에서 알림톡/이메일을 직접 발송하는 버튼
**주요 요소**:
- 레코드 상세 패널(또는 모달)에 "발송" 버튼 추가
- 채널 선택 (알림톡 / 이메일)
- 템플릿 선택 → 변수 자동 매핑 → 미리보기 → 발송
- 발송 결과 즉시 표시
**의존성**: 기존 send API 재활용
**예상 규모**: 컴포넌트 2~3개 + RecordTable 수정

---

### P3 — 검색/필터링 강화 `advanced-search`
**현재 상태**: RecordToolbar에 단순 키워드 검색만 존재
**목표**: 필드별 필터, 다중 조건, 정렬 기능
**주요 요소**:
- 필드별 필터 조건 (텍스트: contains/equals, 숫자: >/</=, 날짜: range)
- 다중 필터 AND/OR 조합
- 컬럼별 정렬 (ASC/DESC)
- 필터 프리셋 저장/불러오기
- API 쿼리 파라미터 확장
**의존성**: records API 수정 필요
**예상 규모**: API 수정 + FilterBuilder 컴포넌트 + RecordToolbar 확장

---

### P4 — 통합 발송 이력 `unified-logs`
**현재 상태**: 알림톡 로그(alimtalk.tsx)와 이메일 로그(email.tsx)가 별도 탭
**목표**: 채널 통합 로그 뷰 — 타임라인 형태로 모든 발송 이력 조회
**주요 요소**:
- 통합 로그 API (알림톡 + 이메일 로그 합쳐서 시간순 정렬)
- 채널 필터 (전체 / 알림톡 / 이메일)
- 레코드별 발송 이력 보기
- 상태 필터 (성공/실패/대기)
- 페이지네이션
**의존성**: alimtalk logs + email logs 테이블 조회
**예상 규모**: API 1개 + 페이지 또는 탭 1개 + 컴포넌트 2~3개

---

### P5 — CSV 가져오기/내보내기 `csv-import-export`
**현재 상태**: 레코드 입력은 수동 1건씩만 가능
**목표**: CSV 파일로 고객 데이터 대량 업로드 및 다운로드
**주요 요소**:
- CSV 내보내기: 현재 필터 결과를 CSV 다운로드
- CSV 가져오기: 파일 업로드 → 필드 매핑 UI → 미리보기 → 일괄 삽입
- 중복 처리 옵션 (건너뛰기 / 덮어쓰기 / 오류)
- 진행률 표시
- 에러 행 리포트
**의존성**: records API bulk insert 필요
**예상 규모**: API 2개 + 컴포넌트 3~4개 (UploadDialog, MappingStep, PreviewStep)

---

### P6 — 알림/통계 대시보드 `analytics-dashboard`
**현재 상태**: 알림톡 대시보드에 간단한 통계만 존재
**목표**: 발송 성공률, 일별/주별 추이 차트, 채널별 비교
**주요 요소**:
- 일별 발송 추이 차트 (Line/Bar)
- 채널별 성공률 비교
- 템플릿별 성과 분석
- 기간 선택 (7일/30일/커스텀)
- 차트 라이브러리 (recharts 또는 chart.js)
**의존성**: 통합 통계 API 필요, P4 통합 로그와 시너지
**예상 규모**: API 1~2개 + 차트 컴포넌트 3~4개 + 페이지 1개

---

## 우선순위 근거

| 순위 | 기능 | 근거 |
|:----:|------|------|
| P1 | dashboard-home | 진입 시 가치 제공, 기존 API만으로 구현 가능, 낮은 복잡도 |
| P2 | record-manual-send | 핵심 UX 개선, 기존 send API 재활용, 빠른 구현 |
| P3 | advanced-search | 데이터 많아지면 필수, records API 확장이 다른 기능에도 활용 |
| P4 | unified-logs | 운영 효율, P2 이후 발송 증가 시 필요성 증가 |
| P5 | csv-import-export | 대량 데이터 유입 필요 시점에 구현, 파일 처리 복잡도 |
| P6 | analytics-dashboard | P4 이후 데이터 축적 필요, 차트 라이브러리 의존성 추가 |

## 구현 순서 제안

```
P1 dashboard-home
  ↓
P2 record-manual-send
  ↓
P3 advanced-search
  ↓
P4 unified-logs
  ↓
P5 csv-import-export
  ↓
P6 analytics-dashboard
```

각 기능은 개별 PDCA 사이클(Plan → Design → Do → Check → Report → Archive)로 진행.
